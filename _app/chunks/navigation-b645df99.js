var t=Object.defineProperty,a=Object.prototype.hasOwnProperty,e=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(a,e,r)=>e in a?t(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,o=(t,o)=>{for(var i in o||(o={}))a.call(o,i)&&n(t,i,o[i]);if(e)for(var i of e(o))r.call(o,i)&&n(t,i,o[i]);return t};import{J as i,K as s,C as c}from"./vendor-5c2337e3.js";import{r as d}from"./singletons-6b53f818.js";class u extends Error{constructor(t,a){super(a),this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body}}const p={BASE:"",VERSION:"0.1.0",WITH_CREDENTIALS:!1,TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0};function l(t){return null!=t}function y(t){return"string"==typeof t}function b(t){return y(t)&&""!==t}function m(t){return t instanceof Blob}function h(t){const a=t.path.replace(/[:]/g,"_"),e=`${p.BASE}${a}`;return t.query?`${e}${function(t){const a=[];return Object.keys(t).forEach((e=>{const r=t[e];l(r)&&(Array.isArray(r)?r.forEach((t=>{a.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(t))}`)})):a.push(`${encodeURIComponent(e)}=${encodeURIComponent(String(r))}`))})),a.length>0?`?${a.join("&")}`:""}(t.query)}`:e}async function f(t,a){return"function"==typeof a?a(t):a}async function w(t){const a=await f(t,p.TOKEN),e=await f(t,p.USERNAME),r=await f(t,p.PASSWORD),n=await f(t,p.HEADERS),i=new Headers(o(o({Accept:"application/json"},n),t.headers));if(b(a)&&i.append("Authorization",`Bearer ${a}`),b(e)&&b(r)){const t=btoa(`${e}:${r}`);i.append("Authorization",`Basic ${t}`)}return t.body&&(m(t.body)?i.append("Content-Type",t.body.type||"application/octet-stream"):y(t.body)?i.append("Content-Type","text/plain"):i.append("Content-Type","application/json")),i}function E(t){return t.formData?function(t){const a=new FormData;return Object.keys(t).forEach((e=>{const r=t[e];l(r)&&a.append(e,r)})),a}(t.formData):t.body?y(t.body)||m(t.body)?t.body:JSON.stringify(t.body):void 0}async function A(t){const a=h(t),e=await async function(t,a){const e={method:t.method,headers:await w(t),body:E(t)};return await fetch(a,e)}(t,a),r=await async function(t){try{const a=t.headers.get("Content-Type");if(a)return a.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(a){console.error(a)}return null}(e),n=function(t,a){if(a){const e=t.headers.get(a);if(y(e))return e}return null}(e,t.responseHeader),i={url:a,ok:e.ok,status:e.status,statusText:e.statusText,body:n||r};return function(t,a){const e=o({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},t.errors)[a.status];if(e)throw new u(a,e);if(!a.ok)throw new u(a,"Generic Error")}(t,i),i}class C{static async aicaciaIdWebControllerApiSignInUsernameOrEmailAndPasswordSignIn(t){return(await A({method:"POST",path:"/api/sign_in/username_or_email_and_password",body:t})).body}static async aicaciaIdWebControllerApiSignUpUsernameAndPasswordSignUp(t){return(await A({method:"POST",path:"/api/sign_up/username_and_password",body:t})).body}static async aicaciaIdWebControllerApiUserSignOut(){return(await A({method:"DELETE",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserCurrent(){return(await A({method:"GET",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserEmailCreate(t){return(await A({method:"POST",path:"/api/user/email",body:t})).body}static async aicaciaIdWebControllerApiUserEmailConfirm(){return(await A({method:"PATCH",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailConfirm2(){return(await A({method:"PUT",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailDelete(){return(await A({method:"DELETE",path:`/api/user/email/${id}`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary(){return(await A({method:"PATCH",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary2(){return(await A({method:"PUT",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserPasswordReset(t){return(await A({method:"PATCH",path:"/api/user/password/reset",body:t})).body}static async aicaciaIdWebControllerApiUserPasswordReset2(t){return(await A({method:"PUT",path:"/api/user/password/reset",body:t})).body}static async aicaciaIdWebControllerApiUserUsernameUpdate(t){return(await A({method:"PATCH",path:"/api/user/username",body:t})).body}static async aicaciaIdWebControllerApiUserUsernameUpdate2(t){return(await A({method:"PUT",path:"/api/user/username",body:t})).body}}const U={emails:[],id:null,inserted_at:null,updated_at:null,username:"guest"},S=c(U);async function I(t){const a=s(S);if(t&&a.token===t)return a;P(t);try{const t=await C.aicaciaIdWebControllerApiUserCurrent();return S.set(t),t}catch(e){throw O(),e}}async function T(){await C.aicaciaIdWebControllerApiUserSignOut(),O(),S.set(U)}function g(){return decodeURIComponent(i.get("aicacia-user-token"))}function P(t){p.HEADERS={Authorization:`Bearer ${t}`},i.set("aicacia-user-token",encodeURIComponent(t))}function O(){p.HEADERS=void 0,i.remove("aicacia-user-token")}p.BASE="https://api.id.aicacia.com";const W=async function(t,a){return d.goto(t,a,[])};export{C as U,I as a,g as b,P as c,W as g,T as s,S as u};
