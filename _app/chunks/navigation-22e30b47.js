var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(e,a,r)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&n(t,i,o[i]);if(a)for(var i of a(o))r.call(o,i)&&n(t,i,o[i]);return t};import{w as i,r as s}from"./singletons-2bbdf6b6.js";import{I as c}from"./index-128c958e.js";class u extends Error{constructor(t,e){super(e),this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body}}const d={BASE:"https://api.id.aicacia.com",VERSION:"0.1.0",WITH_CREDENTIALS:!1,TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0};function p(t){return null!=t}function l(t){return"string"==typeof t}function y(t){return l(t)&&""!==t}function f(t){return t instanceof Blob}function m(t){const e=t.path.replace(/[:]/g,"_"),a=`${d.BASE}${e}`;return t.query?`${a}${function(t){const e=[];return Object.keys(t).forEach((a=>{const r=t[a];p(r)&&(Array.isArray(r)?r.forEach((t=>{e.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(t))}`)})):e.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(r))}`))})),e.length>0?`?${e.join("&")}`:""}(t.query)}`:a}async function b(t,e){return"function"==typeof e?e(t):e}async function h(t){const e=await b(t,d.TOKEN),a=await b(t,d.USERNAME),r=await b(t,d.PASSWORD),n=await b(t,d.HEADERS),i=new Headers(o(o({Accept:"application/json"},n),t.headers));if(y(e)&&i.append("Authorization",`Bearer ${e}`),y(a)&&y(r)){const t=btoa(`${a}:${r}`);i.append("Authorization",`Basic ${t}`)}return t.body&&(f(t.body)?i.append("Content-Type",t.body.type||"application/octet-stream"):l(t.body)?i.append("Content-Type","text/plain"):i.append("Content-Type","application/json")),i}function w(t){return t.formData?function(t){const e=new FormData;return Object.keys(t).forEach((a=>{const r=t[a];p(r)&&e.append(a,r)})),e}(t.formData):t.body?l(t.body)||f(t.body)?t.body:JSON.stringify(t.body):void 0}async function C(t){const e=m(t),a=await async function(t,e){const a={method:t.method,headers:await h(t),body:w(t)};return await fetch(e,a)}(t,e),r=await async function(t){try{const e=t.headers.get("Content-Type");if(e)return e.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(e){console.error(e)}return null}(a),n=function(t,e){if(e){const a=t.headers.get(e);if(l(a))return a}return null}(a,t.responseHeader),i={url:e,ok:a.ok,status:a.status,statusText:a.statusText,body:n||r};return function(t,e){const a=o({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},t.errors)[e.status];if(a)throw new u(e,a);if(!e.ok)throw new u(e,"Generic Error")}(t,i),i}class E{static async aicaciaIdWebControllerApiSignInUsernameOrEmailAndPasswordSignIn(t){return(await C({method:"POST",path:"/api/sign_in/username_or_email_and_password",body:t})).body}static async aicaciaIdWebControllerApiSignUpUsernameAndPasswordSignUp(t){return(await C({method:"POST",path:"/api/sign_up/username_and_password",body:t})).body}static async aicaciaIdWebControllerApiUserSignOut(){return(await C({method:"DELETE",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserCurrent(){return(await C({method:"GET",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserEmailCreate(t){return(await C({method:"POST",path:"/api/user/email",body:t})).body}static async aicaciaIdWebControllerApiUserEmailConfirm(){return(await C({method:"PATCH",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailConfirm2(){return(await C({method:"PUT",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailDelete(){return(await C({method:"DELETE",path:`/api/user/email/${id}`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary(){return(await C({method:"PATCH",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary2(){return(await C({method:"PUT",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserPasswordReset(t){return(await C({method:"PATCH",path:"/api/user/password/reset",body:t})).body}static async aicaciaIdWebControllerApiUserPasswordReset2(t){return(await C({method:"PUT",path:"/api/user/password/reset",body:t})).body}}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
var A,S=(function(t,e){var a;a=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var a=arguments[t];for(var r in a)e[r]=a[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function a(r){function n(){}function o(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},n.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(a);/^[\{\[]/.test(i)&&(a=i)}catch(u){}a=r.write?r.write(a,e):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=e+"="+a+s}}function i(t,a){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");a||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(s[0]);if(c=(r.read||r)(c,u)||e(c),a)try{c=JSON.parse(c)}catch(d){}if(n[u]=c,t===u)break}catch(d){}}return t?n[t]:n}}return n.set=o,n.get=function(t){return i(t,!1)},n.getJSON=function(t){return i(t,!0)},n.remove=function(e,a){o(e,"",t(a,{expires:-1}))},n.defaults={},n.withConverter=a,n}((function(){}))},t.exports=a()}(A={exports:{}},A.exports),A.exports);const U={emails:[],id:null,inserted_at:null,updated_at:null,username:"guest"},g=i(U);async function I(t){const e=c(g);if(t&&e.token===t)return e;R(t);try{const t=await E.aicaciaIdWebControllerApiUserCurrent();return g.set(t),t}catch(a){throw O(),a}}async function v(){await E.aicaciaIdWebControllerApiUserSignOut(),O(),g.set(U)}function T(){return decodeURIComponent(S.get("aicacia-user-token"))}function R(t){d.HEADERS={Authorization:`Bearer ${t}`},S.set("aicacia-user-token",encodeURIComponent(t))}function O(){d.HEADERS=void 0,S.remove("aicacia-user-token")}d.BASE="https://api.id.aicacia.com";const x=async function(t,e){return s.goto(t,e,[])};export{E as U,I as a,T as b,R as c,x as g,v as s,g as u};
