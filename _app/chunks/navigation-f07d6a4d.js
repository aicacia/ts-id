var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=(e,r,a)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&n(t,i,o[i]);if(r)for(var i of r(o))a.call(o,i)&&n(t,i,o[i]);return t};import{r as i}from"./singletons-6b53f818.js";class s extends Error{constructor(t,e){super(e),this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.body=t.body}}const c={BASE:"http://localhost:4000",VERSION:"0.1.0",WITH_CREDENTIALS:!1,TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0};function u(t){return null!=t}function p(t){return"string"==typeof t}function d(t){return p(t)&&""!==t}function l(t){return t instanceof Blob}function y(t){const e=t.path.replace(/[:]/g,"_"),r=`${c.BASE}${e}`;return t.query?`${r}${function(t){const e=[];return Object.keys(t).forEach((r=>{const a=t[r];u(a)&&(Array.isArray(a)?a.forEach((t=>{e.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`)})):e.push(`${encodeURIComponent(r)}=${encodeURIComponent(String(a))}`))})),e.length>0?`?${e.join("&")}`:""}(t.query)}`:r}async function f(t,e){return"function"==typeof e?e(t):e}async function m(t){const e=await f(t,c.TOKEN),r=await f(t,c.USERNAME),a=await f(t,c.PASSWORD),n=await f(t,c.HEADERS),i=new Headers(o(o({Accept:"application/json"},n),t.headers));if(d(e)&&i.append("Authorization",`Bearer ${e}`),d(r)&&d(a)){const t=btoa(`${r}:${a}`);i.append("Authorization",`Basic ${t}`)}return t.body&&(l(t.body)?i.append("Content-Type",t.body.type||"application/octet-stream"):p(t.body)?i.append("Content-Type","text/plain"):i.append("Content-Type","application/json")),i}function b(t){return t.formData?function(t){const e=new FormData;return Object.keys(t).forEach((r=>{const a=t[r];u(a)&&e.append(r,a)})),e}(t.formData):t.body?p(t.body)||l(t.body)?t.body:JSON.stringify(t.body):void 0}async function h(t){const e=y(t),r=await async function(t,e){const r={method:t.method,headers:await m(t),body:b(t)};return await fetch(e,r)}(t,e),a=await async function(t){try{const e=t.headers.get("Content-Type");if(e)return e.toLowerCase().startsWith("application/json")?await t.json():await t.text()}catch(e){console.error(e)}return null}(r),n=function(t,e){if(e){const r=t.headers.get(e);if(p(r))return r}return null}(r,t.responseHeader),i={url:e,ok:r.ok,status:r.status,statusText:r.statusText,body:n||a};return function(t,e){const r=o({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},t.errors)[e.status];if(r)throw new s(e,r);if(!e.ok)throw new s(e,"Generic Error")}(t,i),i}class w{static async aicaciaIdWebControllerApiSignInUsernameOrEmailAndPasswordSignIn(t){return(await h({method:"POST",path:"/api/sign_in/username_or_email_and_password",body:t})).body}static async aicaciaIdWebControllerApiSignUpUsernameAndPasswordSignUp(t){return(await h({method:"POST",path:"/api/sign_up/username_and_password",body:t})).body}static async aicaciaIdWebControllerApiUserSignOut(){return(await h({method:"DELETE",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserCurrent(){return(await h({method:"GET",path:"/api/user/current"})).body}static async aicaciaIdWebControllerApiUserEmailCreate(t){return(await h({method:"POST",path:"/api/user/email",body:t})).body}static async aicaciaIdWebControllerApiUserEmailConfirm(){return(await h({method:"PATCH",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailConfirm2(){return(await h({method:"PUT",path:"/api/user/email/confirm"})).body}static async aicaciaIdWebControllerApiUserEmailDelete(){return(await h({method:"DELETE",path:`/api/user/email/${id}`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary(){return(await h({method:"PATCH",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserEmailSetPrimary2(){return(await h({method:"PUT",path:`/api/user/email/${id}/primary`})).body}static async aicaciaIdWebControllerApiUserPasswordReset(t){return(await h({method:"PATCH",path:"/api/user/password/reset",body:t})).body}static async aicaciaIdWebControllerApiUserPasswordReset2(t){return(await h({method:"PUT",path:"/api/user/password/reset",body:t})).body}}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
var C,E=(function(t,e){var r;r=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(a){function n(){}function o(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},n.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var i=JSON.stringify(r);/^[\{\[]/.test(i)&&(r=i)}catch(u){}r=a.write?a.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=e+"="+r+s}}function i(t,r){if("undefined"!=typeof document){for(var n={},o=document.cookie?document.cookie.split("; "):[],i=0;i<o.length;i++){var s=o[i].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(s[0]);if(c=(a.read||a)(c,u)||e(c),r)try{c=JSON.parse(c)}catch(p){}if(n[u]=c,t===u)break}catch(p){}}return t?n[t]:n}}return n.set=o,n.get=function(t){return i(t,!1)},n.getJSON=function(t){return i(t,!0)},n.remove=function(e,r){o(e,"",t(r,{expires:-1}))},n.defaults={},n.withConverter=r,n}((function(){}))},t.exports=r()}(C={exports:{}},C.exports),C.exports);function A(t){g(t);try{return w.aicaciaIdWebControllerApiUserCurrent()}catch(e){throw I(),e}}async function S(){await w.aicaciaIdWebControllerApiUserSignOut(),I()}function U(){return decodeURIComponent(E.get("aicacia-user-token"))}function g(t){c.HEADERS={Authorization:`Bearer ${t}`},E.set("aicacia-user-token",encodeURIComponent(t))}function I(){c.HEADERS=void 0,E.remove("aicacia-user-token")}const v=async function(t,e){return i.goto(t,e,[])};export{w as U,S as a,v as b,g as c,U as g,A as s};
